<html>    
    <head>
        <title>Stock Quote Connector-Tutorial</title>
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" type="text/javascript"></script>
        <script src="https://connectors.tableau.com/libs/tableauwdc-2.1.latest.js" type="text/javascript"></script>
        <script type="text/javascript">
            (function () {
                var myConnector = tableau.makeConnector();

                myConnector.getColumnHeaders = function () {
                    var fieldNames = ['Ticker', 'Day', 'Close'];
                    var fieldTypes = ['string', 'date', 'float'];
                    tableau.headersCallback(fieldNames, fieldTypes);
                }

                myConnector.getTableData = function (lastRecordToken) {
                    var dataToReturn = [];
                    var lastRecordToken = 0;
                    var hasMoreData = false;
                    tableau.dataCallback(dataToReturn, lastRecordToken.toString(), hasMoreData);
                }

                tableau.registerConnector(myConnector);
            })();

            $(document).ready(function () {
                $("#submitButton").click(function () {
                    var tickerSymbol = $('#ticker').val().trim();
                    if (tickerSymbol) {
                        tableau.connectionName = "Stock Data for " + tickerSymbol;
                        tableau.connectionData = tickerSymbol;
                        tableau.submit();
                    }
                });
            });
        </script>
    </head>
    <body>
        <p>Enter a stock ticker symbol: <input type="text" id="ticker" /></p>
        <p><button type="button" id="submitButton">Get the Data</button></p>
    </body>
</html>